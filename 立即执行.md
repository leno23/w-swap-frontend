# âš¡ ç«‹å³æ‰§è¡Œæ­¥éª¤

## âœ… å·²å®Œæˆ
- [x] ä¿®å¤äº† Factory.sol çš„æ•°ç»„è¶Šç•Œé—®é¢˜
- [x] æ”¹è¿›äº† Pool.sol çš„é”™è¯¯ä¿¡æ¯
- [x] ä¿®å¤äº† hardhat.config.ts é…ç½®
- [x] åˆçº¦ç¼–è¯‘æˆåŠŸ

## ğŸ“‹ ä½ éœ€è¦åšçš„ï¼ˆæŒ‰é¡ºåºï¼‰

### 1ï¸âƒ£ é…ç½®ç¯å¢ƒå˜é‡ï¼ˆ2åˆ†é’Ÿï¼‰

```bash
cd swap-contract
nano .env
```

ç²˜è´´ä»¥ä¸‹å†…å®¹å¹¶å¡«å†™ä½ çš„ä¿¡æ¯ï¼š

```env
SEPOLIA_RPC_URL=https://sepolia.infura.io/v3/YOUR_INFURA_KEY
PRIVATE_KEY=ä½ çš„ç§é’¥ä¸è¦0xå‰ç¼€
```

**è·å– RPC URL:**
- Infura: https://infura.io ï¼ˆå…è´¹æ³¨å†Œï¼‰
- Alchemy: https://www.alchemy.com ï¼ˆå…è´¹æ³¨å†Œï¼‰

**è·å–ç§é’¥:**
- MetaMask â†’ è´¦æˆ·è¯¦æƒ… â†’ å¯¼å‡ºç§é’¥
- âš ï¸ åªç”¨æµ‹è¯•é’±åŒ…ï¼Œä¸è¦ç”¨çœŸé’±çš„é’±åŒ…ï¼

ä¿å­˜æ–‡ä»¶ï¼š`Ctrl+X` â†’ `Y` â†’ `Enter`

### 2ï¸âƒ£ éƒ¨ç½²åˆçº¦ï¼ˆ5åˆ†é’Ÿï¼‰

```bash
# ç¡®ä¿åœ¨ swap-contract ç›®å½•
cd swap-contract

# éƒ¨ç½²åˆ° Sepolia
npx hardhat ignition deploy ignition/modules/MetaNodeSwap.ts --network sepolia
```

**ğŸ“ è®°å½•è¾“å‡ºçš„åœ°å€ï¼** åº”è¯¥çœ‹åˆ°ï¼š
```
âœ” Confirm deploy to network sepolia (11155111)? â€¦ yes
...
Deployed PoolManager: 0x...
Deployed SwapRouter: 0x...  
Deployed PositionManager: 0x...
```

### 3ï¸âƒ£ æ›´æ–°å‰ç«¯åœ°å€ï¼ˆ1åˆ†é’Ÿï¼‰

```bash
# å›åˆ°é¡¹ç›®æ ¹ç›®å½•
cd ..

# ç¼–è¾‘åœ°å€æ–‡ä»¶
nano contracts/addresses.ts
```

æ›¿æ¢ä¸ºä½ åˆšæ‰éƒ¨ç½²çš„åœ°å€ï¼š

```typescript
export const CONTRACT_ADDRESSES = {
  sepolia: {
    poolManager: '0xåˆšæ‰éƒ¨ç½²çš„PoolManageråœ°å€',
    positionManager: '0xåˆšæ‰éƒ¨ç½²çš„PositionManageråœ°å€',
    swapRouter: '0xåˆšæ‰éƒ¨ç½²çš„SwapRouteråœ°å€',
  }
} as const;
```

ä¿å­˜ï¼š`Ctrl+X` â†’ `Y` â†’ `Enter`

### 4ï¸âƒ£ æ›´æ–° Pool ABIï¼ˆ30ç§’ï¼‰

```bash
# ä»é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
cp swap-contract/artifacts/contracts/MetaNodeSwap/Pool.sol/Pool.json lib/Pool.json
```

### 5ï¸âƒ£ é‡å¯å‰ç«¯ï¼ˆ30ç§’ï¼‰

```bash
# å¦‚æœå‰ç«¯æ­£åœ¨è¿è¡Œï¼Œå…ˆåœæ­¢ï¼ˆCtrl+Cï¼‰
# ç„¶åé‡æ–°å¯åŠ¨
pnpm dev
```

### 6ï¸âƒ£ æµ‹è¯•ï¼ˆ1åˆ†é’Ÿï¼‰

1. æ‰“å¼€ http://localhost:3000
2. è¿æ¥é’±åŒ…ï¼ˆç¡®ä¿åœ¨ Sepolia ç½‘ç»œï¼‰
3. å°è¯•æ·»åŠ æµåŠ¨æ€§
4. æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—

## âœ… æˆåŠŸæ ‡å¿—

ä½ åº”è¯¥çœ‹åˆ°ä»¥ä¸‹**ä¹‹ä¸€**ï¼š

- âœ… "Liquidity added successfully!" â† å®Œç¾ï¼
- âœ… "Pool index out of bounds" â† æ­£å¸¸ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºæ± å­
- âœ… "Pool not initialized" â† æ­£å¸¸ï¼Œä¼šè‡ªåŠ¨åˆå§‹åŒ–
- âœ… ä»»ä½•æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯ï¼ˆè€Œä¸æ˜¯ "missing revert data"ï¼‰

## ğŸ†˜ å¦‚æœé‡åˆ°é—®é¢˜

### "insufficient funds for gas"
â†’ å» https://sepoliafaucet.com/ è·å–æµ‹è¯• ETH

### "Invalid RPC URL"  
â†’ æ£€æŸ¥ .env æ–‡ä»¶çš„ SEPOLIA_RPC_URL æ˜¯å¦æ­£ç¡®

### "Invalid private key"
â†’ ç¡®ä¿ç§é’¥æ²¡æœ‰ 0x å‰ç¼€ï¼Œä¸”é•¿åº¦æ­£ç¡®ï¼ˆ64ä¸ªå­—ç¬¦ï¼‰

### å‰ç«¯è¿˜æ˜¯æŠ¥é”™
â†’ ç¡®è®¤ï¼š
1. æ˜¯å¦æ›´æ–°äº† contracts/addresses.tsï¼Ÿ
2. æ˜¯å¦é‡å¯äº†å‰ç«¯ï¼Ÿ
3. æ˜¯å¦åˆ·æ–°äº†æµè§ˆå™¨ï¼Ÿ

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼š
- `ä¿®å¤æ€»ç»“.md` - å®Œæ•´è¯´æ˜
- `SOLUTION.md` - è‹±æ–‡ç‰ˆè¯¦ç»†æ–¹æ¡ˆ
- `CHANGES.md` - æ‰€æœ‰æ”¹åŠ¨çš„æŠ€æœ¯ç»†èŠ‚

---

**é¢„è®¡æ€»è€—æ—¶ï¼š10 åˆ†é’Ÿ**

å¼€å§‹å§ï¼ğŸ’ª

